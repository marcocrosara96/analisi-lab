/**
 * Implementare una procedura che tenta di scrivere in un file posto in una directory per cui
 * non è concessa autorizzazione di scrittura o accesso (e.g. /var).
 **/
#include<stdio.h>

/**
 * Procedura malevola che tenta di scrivere su un file posto nella directory /var
 **/
void proceduraMalevola() {
	FILE *fp;
	fp = fopen("/var/run/acpid.pid","w");
	fprintf(fp, "0\n");
	fclose(fp);
}

/**
 * Procedura principale che esegue la somma di due numeri e la stampa a video
 **/
int main(int argc, char **argv) {
	if(argc != 3){
		printf("Uso corretto: sum_malware [op1] [op2]\n");
		return 1;
	}
	printf("SOMMA DI DUE NUMERI\n");
	printf("La somma dei numeri in input è: ");
	printf("%i\n", atoi(argv[1]) + atoi(argv[2]));
	proceduraMalevola(); //Chiamata alla procedura malevola
	return 0;
}
